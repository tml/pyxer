<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Pyxer Documentation</title>
<link href="pdf.css" type="text/css" rel="stylesheet" media="all" />
<link href="screen.css" type="text/css" rel="stylesheet" media="screen" />
</head>
<body>
<div id="footer">
  <p align="right"> 
  	Page <pdf:pagenumber /> 
  </p>
</div>
<div id="footer-pisa">
  <p> 
  	Generated using the <a href="http://www.htmltopdf.org/">Pisa HTML2PDF Converter</a> 
  </p>
</div>
<p class="title"> 
  <em>Pyxer
  <!--VERSION-->
  <!--VERSION-->
  </em> </p>
<p class="subtitle"> Yet another Python framework </p>
<p> (C)opyright by Dirk Holtwick, Germany <br />
  <a href="mailto:dirk.holtwick@gmail.com">dirk.holtwick@gmail.com</a> <br />
  <a href="http://www.pyxer.net/">http://www.pyxer.net</a> </p>
<pdf:nexttemplate name="regular"/>
<h1 style="-pdf-outline: false;" class="pdf">Table of Contents</h1>
<div class="pdf">
  <pdf:toc />
</div>
<h1>Introduction</h1>
<p> The <em>Pyxer</em> Server is a very simple Python Web Framework that aims
  to makes starting a new project as easy as it can be. It still works
  respecting the MVC concept but the files can be mixed in one
  directory. For a high end solution you should consider using Pylons,
  TurboGears, Django and similar. </p>
<p> This work is inspired by <a href="http://pythonpaste.org/webob/do-it-yourself.html">http://pythonpaste.org/webob/do-it-yourself.html</a> </p>
<h2>Technical background</h2>
<p>The Google App Engine  (GAE) in version 1.1 offers a very restricted Python environment and the developer as to ship arround a lot of problems. Pyxer helps on this point by also providing solutions that work with the great WSGI Framework Paster by Ian Bicking. So you get the best from both sides: GAE and Paster. To achieve this some other great third party tools are used like WebOb and VirtualEnv (also by Ian Bicking) and for templating the html5lib is used.</p>
<h1>Installation</h1>
<p> Install Pyxer using easy_install: </p>
<pre><em>$</em> easy_install pyxer  </pre>
<p> All required packages (webob, html5lib, beaker) should be installed automatically if needed. </p>
<p> If you want to use Google AppEngine install it separately too. </p>
<h1>Quick start </h1>
<h2>Create a new project  </h2>
<p>At first set up a new Pyxer project using the Pyxer command line tool like this: </p>
<pre><em>$</em>  pyxer init myexample</pre>
<p> In the newly created directory &quot;myexample&quot; you will find a directory structure like this one (under windows &quot;bin&quot; will be called &quot;Scripts&quot;): </p>
<pre>bin/
public/
lib/</pre>
<p> Place your files in the &quot;public&quot; directory. </p>
<h2>Start the server </h2>
<p>To start the server you may choose between the Paster-Engine:</p>
<pre><em>$</em> xpaster serve</pre>
<p>or the GAE-Engine:</p>
<pre><em>$</em> xgae serve  </pre>
<p>Or use Pyxer command line tool again to use the default engine (which is Paster):</p>
<pre><em>$</em> pyxer serve </pre>
<h2>&quot;Hello World&quot;</h2>
<p> For a simple &quot;Hello World&quot; just put an &quot;index.html&quot;
  file into the &quot;public&quot; directory with the following content: </p>
<pre>Hello World</pre>
<p> This works just like a static server. To use a controller put a file
  &quot;__init__.py&quot; into that directory with the following
  content:</p>
<pre>@controller
def index():
    return &quot;Hello World&quot;</pre>
<h2> About controllers</h2>
<p>Controller, templates and static files are placed in the same
  directory (usually &quot;public&quot;). First <em>Pyxer</em> looks for a matching controller. A controller is defined in the
  &quot;__init__.py&quot; file and decorated by using <code>@controller</code> which is defined in <code>pyxer.base</code>.</p>
<pre><strong>from pyxer.base import *</strong>

<strong>@controller</strong>
def index():
    return &quot;Hello World&quot;</pre>
<p> This example can be called like <code>/</code> or <code>/index</code>.
  To use a Genshi template with this file you may use the <code>render()</code> function or just return <code>None</code> (that is the same as not
  returning anything) and the matching template will be used, in this
  case <code>index.html</code>. The available object in the template
  are the same as used by Pylons: <code>c</code> = context, <code>g</code> = globals and <code>h</code> = helpers. </p>
<pre>from pyxer.base import *

@controller
def index():
    <strong>c.title = &quot;Hello World&quot;</strong></pre>
<p> XXX</p>
<ol>
  <li>
    <p>#Looks for a controller
      (foo/bar/__init__py:bar) </p>
    <ol>
      <li>
        <p>If the controller returns a
          dictionary this will be applied to template (step 2) </p>
    </li>
    </ol>
  </li>
  <li>Looks for the template (foo/bar.html) </li>
</ol>
<h1>Templating</h1>
<p><em>Pyxer</em> offers yet another templating language that is very close to
  Genshi and Kit. As the former did not work with Google AppEngine at
  the moment of birth of <em>Pyxer</em> the new templating tools had been
  implemented. It is based on html5lib.</p>
<h3>Variables and expressions</h3>
<p>The default templating works similar to most known other
  templating languages. Variables and expressions are realized like <code>$&lt;varname&gt;</code> (where <code>&lt;varname&gt;</code> may
  contain dots!) and <code>${&lt;expression&gt;}</code>:</p>
<pre>Hello <strong>${name.capitalize()}</strong>, you won <strong>$price</strong>.
<strong>$item.amount</strong> times <strong>$item.name</strong>.</pre>
<h3> Commands</h3>
<p>Commands are the same as used by Python. The only difference is,
  that you have to tell that a block ends by calling the command <code>end</code>
  (not needed for <code>else</code> and <code>elif</code>):</p>
<pre><strong>&lt;% def address(name): %&gt;</strong>
  ABCDEF Company
  <strong>&lt;% if name: %&gt;</strong>
    Your contact: $name
  <strong>&lt;% else: %&gt;</strong>
    Unknown contact!
  <strong>&lt;% end %&gt;</strong>
<strong>&lt;% end %&gt;
&lt;% for name in ['Tom', 'Fred']: %&gt;</strong>
  ${ address(name) }
<strong>&lt;% end %&gt;</strong></pre>
<h3> Includes and extends</h3>
<p>You can insert content of other templates by using &ldquo;include&rdquo;:</p>
<pre>&lt;% include(filename) %&gt;</pre>
<p> More sophisticated is the extension of a file. </p>
<pre>&lt;% extends('b.html') %&gt;
&lt;% def content(): %&gt;
  Here goes the content
&lt;% end %&gt;</pre>
<address>
File &ldquo;a.html&rdquo;
</address>
<pre>&lt;% content() %&gt;</pre>
<address>
File &ldquo;b.html&rdquo;
</address>
<h3>HTML Attriutes</h3>
<p>These are also known form many templating languages like Genshi.
  They are used like this:</p>
<pre>&lt;div <strong>py:if=&rdquo;name.startswith('tom ')&rdquo;</strong>&gt;Welcome $name&lt;/div&gt;</pre>
<p> xxx</p>
<h1>XXX Engines</h1>
<p><em>Pyxer</em> uses support different so called &quot;engines&quot;
  to publish a project. Most of them need own configurations and a well
  prepare environment to work fine. These are very specific to each of
  these engines and <em>Pyxer</em> tries to make the setup as easy as
  possible</p>
<h2>Paster</h2>
<pre><em>$</em> xpaster serve --reload </pre>
<h2> Google Appengine</h2>
<pre><em>$</em> xgae serve</pre>
</body>
</html>
