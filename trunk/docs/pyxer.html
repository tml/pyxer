<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML lang="en-US">
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE>pisa Documentation</TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.0 Beta (Win32)">
	<META NAME="CREATED" CONTENT="0;0">
	<META NAME="CHANGED" CONTENT="0;0">
	<STYLE TYPE="text/css">
	<!--

html {
	font-family: SegoeUI, "Segoe UI", Arial, Helvetica, sans-serif;
	font-size: 10pt;
}

h1 {
	page-break-before: always;
}

pre, code {
	background-color: #eee;
	font-family: dejamono, "DejaVu Sans Mono", "Courier New", Courier, monospace;
	font-size: 8pt;
}

code {
	font-weight: bold;
	color: #333;
	/* text-decoration: underline; */
	font-size: 8pt;
}

.del {
	text-decoration: line-through;
}

p, pre {
	margin-top: 1em;
	margin-bottom: 1em;
}

.license {
	font-size: 8px;
	line-height: 110%;
}


.title {
	font-size: 300%;
	font-weight: bold;
	margin-top: 20pt;
	margin-bottom: 20pt;
}

.subtitle {
	font-size: 150%;
	font-weight: bold;
	margin-top: 20pt;
	margin-bottom: 20pt;
}

#footer {
	text-align: right;
}

i, em {
	font-style: normal;
	color: #990000;
	font-weight: bold;
}

a {
	color: #000066;
}

pdftoc {
}

pdftoc.pdftoclevel0 {
	font-weight: bold;
	margin-top: 0.5em;
}

pdftoc.pdftoclevel1 {
	margin-left: 1em;
}

pdftoc.pdftoclevel2 {
	margin-left: 2em;
	font-style: italic;
}

h2 {
	margin-top: 1.5em;
	font-size: 125%;
	color: #666;
}

h3 {
	font-size: 100%;
	color: #000000;
}

@media print {

	@font-face {
		font-family: "DejaVu Sans Mono", dejamono;
		src: url(DejaVuSansMono.ttf);
	}

	@font-face {
		font-family: "DejaVu Sans Mono", dejamono;
		font-weight: bold;
		src: url(DejaVuSansMono-Bold.ttf);
	}

	/*
	@font-face {
		font-family: "Segoe UI", SegoeUI;
		src: url("SEGOEUI.afm");
	}

	@font-face {
		font-family: "Segoe UI", SegoeUI;
		src: url("SEGOEUIB001.TTF");
		font-weight: bold;
	}

	@font-face {
		font-family: "Segoe UI", SegoeUI;
		src: url("SEGOEUII001.TTF");
		font-style: italic;
	}

	@font-face {
		font-family: "Segoe UI", SegoeUI;
		src: url("SEGOEUIZ001.TTF");
		font-weight: bold;
		font-style: italic;
	}
	*/

	@page {

		-pdf-page-orientation: portrait;
		-pdf-page-size: a4;

		/* background-image: url(background.pdf); */

		margin-top: 2cm;
		margin-left: 4cm;
		margin-right: 2cm;
		margin-bottom: 3cm;

	}

	@page regular {

		-pdf-page-orientation: portrait;
		-pdf-page-size: a4;

		/* background-image: url(background.pdf); */

		margin-top: 2cm;
		margin-left: 4cm;
		margin-right: 2cm;
		margin-bottom: 3cm;

		@frame footer {
			-pdf-frame-content: footer;
			bottom: 2cm;
			left: 4cm;
			right: 2cm;
			height: 1cm;
		}

		@frame footer-pisa {
			-pdf-frame-content: footer-pisa;
			bottom: 2cm;
			left: 4cm;
			right: 2cm;
			height: 1cm;
			color: #333;
		}

	}

}
@media screen {
	body {
		margin: 2em;
		counter-reset: Ebene01;
	}
	h1:before {
		content: counter(Ebene01) " ";
		counter-increment: Ebene01;
	}
	h1 {
		counter-reset: Ebene02;
		background: #CCCC99;
	}
	h2:before {
		content: counter(Ebene01) "." counter(Ebene02) " ";
		counter-increment: Ebene02;
	}
	h2 {
		border-bottom: 2px solid  #CCCC99;
	}
	pre {
		padding: 0.5em;
	}
	a, code {
		background: #CCCC99;
		color: #333333;
	}

	code {
		font-weight: bold;
	}

	.pdf {
		display: none;
	}
}
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US" LINK="#333333" VLINK="#333333" DIR="LTR">
<DIV ID="footer" DIR="LTR">
	<P ALIGN=RIGHT>Page
	</P>
</DIV>
<DIV ID="footer-pisa" DIR="LTR">
	<P>Generated by <A HREF="http://www.htmltopdf.org/">&quot;pisa&quot;</A>
		</P>
</DIV>
<P CLASS="title"><EM>pyxer<!--VERSION--><!--VERSION--></EM>
</P>
<P CLASS="subtitle">Yet another Python framework</P>
<P>(C)opyright by Dirk Holtwick, Germany
<BR><A HREF="mailto:dirk.holtwick@gmail.com">dirk.holtwick@gmail.com</A><BR><A HREF="http://www.pyxer.net/">http://www.pyxer.net</A></P>
<H1>Table of Contents</H1>
<H1>Introduction</H1>
<P>The Pyxer Server is a very simple Python Web Framework that aims
to makes starting a new project as easy as it can be. It still works
respecting the MVC concept but the files can be mixed in one
directory. For a high end solution you should consider using Pylons,
TurboGears, Django and similar.</P>
<P>This work is inspired by
<A HREF="http://pythonpaste.org/webob/do-it-yourself.html">http://pythonpaste.org/webob/do-it-yourself.html</A>
</P>
<H1>Installation</H1>
<P>Requires: pylons, webob, beaker, genshi
</P>
<H1>Quick start
</H1>
<H2>Hello World</H2>
<P>For a simple &bdquo;Hello World&ldquo; just put an &bdquo;index.html&ldquo;
file into the site directory with the following content:
</P>
<PRE STYLE="margin-bottom: 0.5cm">Hello World</PRE><P>
This works just like a static server. To use a controller put a file
&bdquo;__init__.py&ldquo; into that directory with the following
content:</P>
<PRE>@controller
def index():
    return &quot;Hello World&quot;</PRE><H2>
Controller</H2>
<P>Controller, templates and static files are placed in the same
directory (usually &quot;&lt;project&gt;.public&quot;). First Pyxer
looks for a matching controller. A controller is defined in the
&quot;__init__.py&quot; file.</P>
<PRE>from pics4nuts.lib.base import *


@controller
def index():
    return &quot;Hello World&quot;</PRE><P>
This example can be called like <CODE>/</CODE> or <CODE>/index</CODE>.
To use a Genshi template with this file you may use the <CODE>render()</CODE>
function or just return <CODE>None</CODE> (that is the same as not
returning anything) and the matching template will be used, in this
case <CODE>index.html</CODE>. The available object in the template
are the same as used by Pylons: <CODE>c</CODE> = context, <CODE>g</CODE>
= globals and <CODE>h</CODE> = helpers.
</P>
<PRE>from pics4nuts.lib.base import *


@controller
def index():
    c.title = &quot;Hello World&quot;</PRE><P>
xxx</P>
<OL>
	<LI><P STYLE="margin-bottom: 0cm">#Looks for a controller
	(foo/bar/__init__py:bar)
	</P>
	<OL>
		<LI><P STYLE="margin-bottom: 0cm">If the controller returns a
		dictionary this will be applied to template (step 2)
		</P>
	</OL>
	<LI><P>Looks for the template (foo/bar.html)
	</P>
</OL>
<H1>Templating</H1>
<P>Pyxer offers yet another templating language that is very close to
Genshi and Kit. As the former did not work with Google AppEngine at
the moment of birth of Pyxer the new templating tools had been
implemented. It is based on html5lib.</P>
<H3>Variables and expressions</H3>
<P>The default templating works similar to most known other
templating languages. Variables and expressions are realized like
<CODE>$&lt;varname&gt;</CODE> (where <CODE>&lt;varname&gt;</CODE> may
contain dots!) and <CODE>${&lt;expression&gt;}</CODE>:</P>
<PRE>Hello ${name.capitalize()}, you won $price.
$item.amount times $item.name.</PRE><H3>
Commands</H3>
<P>Commands are the same as used by Python. The only difference is,
that you have to tell that a block ends by calling the command &ldquo;end&rdquo;
(not needed for &ldquo;else&rdquo; and &ldquo;elif&rdquo;):</P>
<PRE>&lt;% def address(name): %&gt;
  ABCDEF Company
  &lt;% if name: %&gt;
    Your contact: $name
  &lt;% else: %&gt;
    Unknown contact!
  &lt;% end %&gt;
&lt;% end %&gt;
&lt;% for name in ['Tom', 'Fred']: %&gt;
  ${ address(name) }
&lt;% end %&gt;</PRE><H3>
Includes and extends</H3>
<P>You can insert content of other templates by using &ldquo;include&rdquo;:</P>
<PRE STYLE="margin-bottom: 0.5cm">&lt;% include(filename) %&gt;</PRE><P>
More sophisticated is the extension of a file.
</P>
<PRE>&lt;% extends('b.html') %&gt;
&lt;% def content(): %&gt;
  Here goes the content
&lt;% end %&gt;</PRE><ADDRESS STYLE="margin-bottom: 0.5cm">
File &ldquo;a.html&rdquo;
</ADDRESS>
<PRE STYLE="margin-bottom: 0.5cm">&lt;% content() %&gt;</PRE><ADDRESS STYLE="margin-bottom: 0.5cm">
File &ldquo;b.html&rdquo;
</ADDRESS>
<H3>HTML Attriutes</H3>
<P>These are also known form many templating languages like Genshi.
They are used like this:</P>
<PRE STYLE="margin-bottom: 0.5cm">&lt;div py:if=&rdquo;name.startswith('tom ')&rdquo;&gt;Welcome $name&lt;/div&gt;</PRE><P>
xxx</P>
<H1>Engines</H1>
<P><EM>Pyxer</EM> uses support different so called &quot;engines&quot;
to publish a project. Most of them need own configurations and a well
prepare environment to work fine. These are very specific to each of
these engines and <EM>Pyxer</EM> tries to make the setup as easy as
possible</P>
<H2>Paster</H2>
<PRE STYLE="margin-bottom: 0.5cm">xpaster serve --reload </PRE><H2>
Google Appengine</H2>
<PRE STYLE="margin-bottom: 0.5cm">xgae serve</PRE>
</BODY>
</HTML>
